<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WolfCore Liberty — Broker de Trading Profesional</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0a; color: #fff; font-family: 'Inter', sans-serif; overflow: hidden; }
    header { 
      background: rgba(10,10,10,0.95); 
      padding: 1rem 2rem; 
      position: fixed; 
      top: 0; 
      width: 100%; 
      z-index: 100; 
      border-bottom: 1px solid #1e3a5f; 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
    }
    .logo-container { display: flex; align-items: center; gap: 1rem; }
    .logo { width: 40px; height: 40px; }
    .back-link { 
      background: rgba(11,26,58,0.7); 
      color: white; 
      padding: 0.5rem 1rem; 
      border-radius: 6px; 
      text-decoration: none; 
      border: 1px solid #1e3a5f; 
      font-weight: 500;
    }
    main { 
      padding-top: 80px; 
      height: calc(100vh - 80px);
      width: 100%;
    }
    .trading-header { 
      padding: 1.5rem 2rem; 
      text-align: center; 
      background: rgba(15,15,25,0.8);
      border-bottom: 1px solid #1e3a5f;
    }
    .trading-header h1 { 
      font-size: 1.8rem; 
      background: linear-gradient(to right, #ffffff, #c0d0ff); 
      -webkit-background-clip: text; 
      background-clip: text; 
      color: transparent; 
      margin-bottom: 0.5rem; 
    }
    .trading-header p { 
      color: #cbd5e1; 
      font-size: 1rem; 
      max-width: 800px; 
      margin: 0 auto; 
    }
    .trading-container { 
      width: 100%; 
      height: calc(100% - 120px); 
      background: #0f0f1a;
    }
    footer { 
      background: rgba(10,10,10,0.98); 
      padding: 1rem; 
      text-align: center; 
      font-size: 0.85rem; 
      position: fixed;
      bottom: 0;
      width: 100%;
      border-top: 1px solid #1e3a5f;
    }
    
    /* Estilo para el widget de TradingView */
    #tradingview_1234 {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

  <header>
    <div class="logo-container">
      <img src="logo-wolfcore.jpg" alt="WolfCore Liberty Logo" class="logo">
      <h2 style="font-size: 1.2rem; font-weight: 600;">WolfCore Liberty Broker</h2>
    </div>
    <a href="platform.html" class="back-link">← Volver a Plataforma</a>
  </header>

  <main>
    <div class="trading-header">
      <h1>Plataforma de Trading Profesional</h1>
      <p>Gráficos en tiempo real con herramientas de análisis técnico avanzado. Usa la barra de búsqueda integrada en el gráfico para seleccionar cualquier activo financiero.</p>
    </div>
    
    <div class="trading-container">
      <div id="tradingview_1234"></div>
    </div>
  </main>

  <footer>
    <p>© 2026 WolfCore Liberty — Institución Privada del Lobo</p>
    <p>TradingView Integration — Datos en Tiempo Real</p>
  </footer>

  <!-- TradingView Script -->
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  
  <script>
    // Verificar autenticación
    const user = JSON.parse(localStorage.getItem('wolfcore_user'));
    if (!user) {
      alert("❌ Acceso restringido. Inicia sesión.");
      window.location.href = "login.html";
    }

    // Inicializar TradingView SIN popup
    document.addEventListener('DOMContentLoaded', function() {
      new TradingView.widget({
        "autosize": true,
        "symbol": "FX_IDC:EURUSD", // Activo predeterminado
        "interval": "D",
        "timezone": "America/Argentina/Buenos_Aires",
        "theme": "dark",
        "style": "1",
        "locale": "es",
        "toolbar_bg": "#1e3a5f",
        "enable_publishing": false,
        "allow_symbol_change": true,
        "container_id": "tradingview_1234",
        "studies": ["RSI@tv-basicstudies", "MACD@tv-basicstudies"],
        "show_popup_button": false, // ¡NO abre en popup!
        "support_host": "https://www.tradingview.com"
      });
    });
  </script>

</body>
</html>