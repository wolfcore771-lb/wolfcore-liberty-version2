<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Panel CEO — WolfCore Liberty</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0a; color: #fff; font-family: 'Montserrat', sans-serif; padding: 2rem; }
    h1 { color: #4ade80; margin-bottom: 2rem; }
    .create-form { background: rgba(15,15,25,0.8); padding: 2rem; border-radius: 12px; border: 1px solid #1e3a5f; max-width: 500px; }
    .form-group { margin-bottom: 1rem; }
    .form-group input, .form-group select { width: 100%; padding: 0.6rem; background: rgba(10,10,20,0.7); border: 1px solid #1e3a5f; border-radius: 6px; color: white; font-family: 'Montserrat', sans-serif; }
    .create-btn { width: 100%; padding: 0.8rem; background: #0b1a3a; color: white; border: 1px solid #1e3a5f; border-radius: 8px; font-family: 'Montserrat', sans-serif; font-weight: 600; cursor: pointer; margin-top: 1rem; }
  </style>
</head>
<body>
  <h1>Panel de Administración CEO</h1>
  
  <div class="create-form">
    <h2>Crear Nuevo Usuario</h2>
    <div class="form-group">
      <input type="text" id="newUsername" placeholder="Nombre de usuario">
    </div>
    <div class="form-group">
      <input type="text" id="newName" placeholder="Nombre completo">
    </div>
    <div class="form-group">
      <select id="newRole">
        <option value="TRADER">Trader</option>
        <option value="PREMIUM">Miembro Premium</option>
        <option value="MENTOR">Mentor</option>
      </select>
    </div>
    <button class="create-btn" onclick="createUser()">Crear Usuario</button>
  </div>

  <script>
    // Verificar que sea el CEO
    const user = JSON.parse(localStorage.getItem('wolfcore_user'));
    if (!user || user.level !== 'CEO') {
      alert("❌ Acceso restringido al CEO.");
      window.location.href = "platform.html";
    }

    function generatePassword() {
      const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%';
      let pwd = '';
      for (let i = 0; i < 12; i++) pwd += chars.charAt(Math.floor(Math.random() * chars.length));
      return pwd;
    }

    function createUser() {
      const username = document.getElementById('newUsername').value.trim();
      const name = document.getElementById('newName').value.trim();
      const role = document.getElementById('newRole').value;
      
      if (!username || !name) {
        alert('❌ Completa todos los campos.');
        return;
      }

      const password = generatePassword();
      let users = JSON.parse(localStorage.getItem('wolfcore_users')) || {};
      users[username] = {
        password: password,
        name: name,
        role: role === 'TRADER' ? 'Trader' : role === 'PREMIUM' ? 'Miembro Premium' : 'Mentor',
        level: role
      };
      localStorage.setItem('wolfcore_users', JSON.stringify(users));
      
      alert(`✅ Usuario creado!\nUsuario: ${username}\nContraseña: ${password}`);
      document.getElementById('newUsername').value = '';
      document.getElementById('newName').value = '';
    }
  </script>
</body>
</html>